{"ast":null,"code":"var _jsxFileName = \"/Users/flatironschool/Development/code/Mod-4/project/paws-up-frontend/paws-up-client/src/containers/PetPage.js\";\nimport React, { Fragment } from 'react';\nimport NavBar from '../components/NavBar.js';\nimport PetContainer from './PetContainer.js';\nimport PetSpec from './PetSpec.js';\nimport Filter from '../components/Filter.js';\n\nclass PetPage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      pets: [],\n      guardians: [],\n      selectedPetId: null,\n      animalFilter: null,\n      sizeFilter: null,\n      sexFilter: null\n    };\n\n    this.setAnimalFilter = value => {\n      this.setState({\n        animalFilter: value\n      });\n    };\n\n    this.setSizeFilter = value => {\n      this.setState({\n        sizeFilter: value\n      });\n    };\n\n    this.setSexFilter = value => {\n      this.setState({\n        sexFilter: value\n      });\n    };\n\n    this.filterPets = array => {\n      let firstArray;\n      let secondArray;\n      let finalArray;\n\n      if (this.state.animalFilter) {\n        let animalFilteredPets = array.filter(pet => {\n          return pet.animal === this.state.animalFilter;\n        });\n        firstArray = animalFilteredPets;\n      } else {\n        firstArray = array;\n      }\n\n      if (this.state.sizeFilter) {\n        let sizeFilteredPets = firstArray.filter(pet => {\n          return pet.size === this.state.sizeFilter;\n        });\n        secondArray = sizeFilteredPets;\n      } else {\n        secondArray = firstArray;\n      }\n\n      if (this.state.sexFilter) {\n        let sexFilteredPets = secondArray.filter(pet => {\n          return pet.sex === this.state.sexFilter;\n        });\n        finalArray = sexFilteredPets;\n      } else {\n        finalArray = secondArray;\n      }\n\n      return finalArray;\n    };\n\n    this.fetchPets = () => {\n      fetch(\"http://localhost:4000/api/v1/pets\").then(res => res.json()).then(pets => {\n        this.setState({\n          pets: pets\n        });\n      });\n    };\n\n    this.obtainGuardianArray = () => {\n      Array.prototype.unique = function () {\n        return this.filter(function (value, index, self) {\n          return self.indexOf(value) === index;\n        });\n      };\n\n      let guardianArray = this.state.pets.map(pet => {\n        return pet.guardian;\n      });\n      return guardianArray.unique();\n    };\n\n    this.setSelectedPet = pet => {\n      this.setState({\n        selectedPetId: pet.id\n      });\n    };\n\n    this.findPet = id => {\n      return this.state.pets.find(pet => pet.id === id);\n    };\n  }\n\n  componentDidMount() {\n    this.fetchPets();\n  }\n\n  render() {\n    console.log(this.obtainGuardianArray());\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"PawsUp\"), React.createElement(\"img\", {\n      alt: \"\",\n      src: \"http://icons.iconarchive.com/icons/iconsmind/outline/256/Paw-icon.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }), React.createElement(NavBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), this.state.selectedPetId ? React.createElement(PetSpec, {\n      pet: this.findPet(this.state.selectedPetId),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }) : React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(Filter, {\n      setAnimalFilter: this.setAnimalFilter,\n      setSizeFilter: this.setSizeFilter,\n      setSexFilter: this.setSexFilter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), React.createElement(PetContainer, {\n      pets: this.filterPets(this.state.pets),\n      setSelectedPet: this.setSelectedPet,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), \" \"));\n  }\n\n}\n\nexport default PetPage;","map":{"version":3,"sources":["/Users/flatironschool/Development/code/Mod-4/project/paws-up-frontend/paws-up-client/src/containers/PetPage.js"],"names":["React","Fragment","NavBar","PetContainer","PetSpec","Filter","PetPage","Component","state","pets","guardians","selectedPetId","animalFilter","sizeFilter","sexFilter","setAnimalFilter","value","setState","setSizeFilter","setSexFilter","filterPets","array","firstArray","secondArray","finalArray","animalFilteredPets","filter","pet","animal","sizeFilteredPets","size","sexFilteredPets","sex","fetchPets","fetch","then","res","json","obtainGuardianArray","Array","prototype","unique","index","self","indexOf","guardianArray","map","guardian","setSelectedPet","id","findPet","find","componentDidMount","render","console","log"],"mappings":"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","sourcesContent":["import React, {Fragment} from 'react';\nimport NavBar from '../components/NavBar.js'\nimport PetContainer from './PetContainer.js'\nimport PetSpec from './PetSpec.js'\nimport Filter from '../components/Filter.js'\n\nclass PetPage extends React.Component {\n\n  state = {\n    pets: [],\n    guardians: [],\n    selectedPetId: null,\n    animalFilter: null,\n    sizeFilter: null,\n    sexFilter: null\n  }\n\n\n  setAnimalFilter = (value) => {\n    this.setState({\n      animalFilter: value\n    })\n  }\n\n  setSizeFilter = (value) => {\n    this.setState({\n      sizeFilter: value\n    })\n  }\n\n  setSexFilter = (value) => {\n    this.setState({\n      sexFilter: value\n    })\n  }\n\n\n\n  filterPets = (array) => {\n    let firstArray;\n    let secondArray;\n    let finalArray;\n    if (this.state.animalFilter){\n      let animalFilteredPets = array.filter((pet)=>{\n        return pet.animal === this.state.animalFilter\n      })\n      firstArray = animalFilteredPets\n    }\n    else {\n      firstArray = array\n    }\n    if (this.state.sizeFilter){\n      let sizeFilteredPets = firstArray.filter((pet)=>{\n        return pet.size === this.state.sizeFilter\n      })\n      secondArray = sizeFilteredPets\n    }\n    else {\n      secondArray = firstArray\n    }\n    if (this.state.sexFilter){\n      let sexFilteredPets = secondArray.filter((pet)=>{\n        return pet.sex === this.state.sexFilter\n      })\n      finalArray = sexFilteredPets\n    }\n    else {\n       finalArray = secondArray\n    }\n    return finalArray\n  }\n\n  fetchPets = () => {\n    fetch(\"http://localhost:4000/api/v1/pets\")\n    .then(res => res.json())\n    .then(pets => {\n      this.setState({\n        pets: pets\n      })\n    })\n  }\n\n  obtainGuardianArray = () => {\n    Array.prototype.unique = function() {\n    return this.filter(function (value, index, self) {\n      return self.indexOf(value) === index;\n    });\n  }\n  let guardianArray = this.state.pets.map((pet)=>{\n      return pet.guardian\n    })\n    return guardianArray.unique()\n  }\n\n\n  componentDidMount(){\n    this.fetchPets()\n  }\n\n  setSelectedPet = (pet) => {\n    this.setState({\n      selectedPetId: pet.id\n    })\n  }\n\n  findPet = (id) => {\n    return this.state.pets.find((pet)=>pet.id === id)\n  }\n\n  render(){\n    console.log(this.obtainGuardianArray())\n\n  return (\n\n    <Fragment>\n    <h1>PawsUp</h1><img alt=\"\" src=\"http://icons.iconarchive.com/icons/iconsmind/outline/256/Paw-icon.png\"/>\n    <NavBar />\n\n\n\n    {this.state.selectedPetId ?\n\n      <PetSpec pet = {this.findPet(this.state.selectedPetId)}/>\n\n    : <Fragment><Filter setAnimalFilter ={this.setAnimalFilter} setSizeFilter ={this.setSizeFilter} setSexFilter ={this.setSexFilter}/><PetContainer pets = {this.filterPets(this.state.pets)} setSelectedPet = {this.setSelectedPet}/> </Fragment>}\n\n\n\n    </Fragment>\n  )\n  }\n}\n\nexport default PetPage\n"]},"metadata":{},"sourceType":"module"}