{"ast":null,"code":"var _jsxFileName = \"/Users/flatironschool/Development/code/Mod-4/project/paws-up-frontend/paws-up-client/src/App.js\";\nimport React from 'react';\nimport PetPage from './containers/PetPage.js';\nimport CreateAdopterForm from './containers/CreateAdopterForm.js';\nimport About from './components/About.js';\nimport CreatePetForm from './containers/CreatePetForm.js';\nimport AdopterProfile from './components/AdopterProfile.js';\nimport NavBar from './components/NavBar.js';\nimport { Route, Switch } from 'react-router-dom';\nimport Login from './components/Login.js';\nimport './App.css';\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      currentUser: null\n    };\n\n    this.createPet = pet => {\n      fetch(\"http://localhost:4000/api/v1/pets\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accepts: \"application/json\"\n        },\n        body: JSON.stringify(pet)\n      }).then(res => res.json()).then(data => {\n        console.log(data);\n      });\n    };\n\n    this.createAdopter = adopter => {\n      fetch(\"http://localhost:4000/api/v1/adopters\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accepts: \"application/json\"\n        },\n        body: JSON.stringify({\n          name: adopter.name,\n          age: adopter.age,\n          location: adopter.location,\n          residence_type: adopter.residence_type,\n          allergy: adopter.allergy,\n          other_pets: adopter.other_pets,\n          img_url: adopter.img_url\n        })\n      }).then(res => res.json()).then(data => {\n        console.log(data);\n      });\n    };\n\n    this.fetchAndSetAdopters = () => {\n      fetch(\"http://localhost:4000/api/v1/adopters/1\").then(res => res.json()).then(user => {\n        this.setState({\n          currentUser: user\n        });\n      });\n    };\n\n    this.setCurrentUser = response => {\n      this.setState({\n        currentUser: response.user\n      }, () => {\n        localStorage.setItem(\"token\", response.token);\n        this.props.history.push(\"/profile\");\n      });\n    };\n  }\n\n  componentDidMount() {\n    const token = localStorage.getItem(\"token\");\n\n    if (token) {\n      // load up their shit\n      fetch(\"http://localhost:3001/api/v1/auto_login\", {\n        headers: {\n          \"Authorization\": token\n        }\n      }).then(res => res.json()).then(response => {\n        if (response.errors) {\n          alert(response.errors);\n        } else {\n          this.setState({\n            currentUser: response\n          });\n        }\n      });\n    }\n\n    this.fetchAndSetAdopters();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(NavBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(\"header\", {\n      className: \"App-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: () => React.createElement(PetPage, {\n        currentUser: this.currentUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/new-pet\",\n      render: () => React.createElement(CreatePetForm, {\n        createPet: this.createPet,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/about\",\n      render: () => React.createElement(About, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/new-adopter\",\n      render: () => React.createElement(CreateAdopterForm, {\n        createAdopter: this.createAdopter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/adopter-profile\",\n      render: () => React.createElement(AdopterProfile, {\n        currentUser: this.state.currentUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/flatironschool/Development/code/Mod-4/project/paws-up-frontend/paws-up-client/src/App.js"],"names":["React","PetPage","CreateAdopterForm","About","CreatePetForm","AdopterProfile","NavBar","Route","Switch","Login","App","Component","state","currentUser","createPet","pet","fetch","method","headers","Accepts","body","JSON","stringify","then","res","json","data","console","log","createAdopter","adopter","name","age","location","residence_type","allergy","other_pets","img_url","fetchAndSetAdopters","user","setState","setCurrentUser","response","localStorage","setItem","token","props","history","push","componentDidMount","getItem","errors","alert","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PetPage from './containers/PetPage.js'\nimport CreateAdopterForm from './containers/CreateAdopterForm.js'\nimport About from './components/About.js'\nimport CreatePetForm from './containers/CreatePetForm.js'\nimport AdopterProfile from './components/AdopterProfile.js'\nimport NavBar from './components/NavBar.js'\nimport {Route, Switch} from 'react-router-dom';\nimport Login from './components/Login.js';\n\nimport './App.css';\n\nclass App extends React.Component {\n\n\n    state = {\n      currentUser: null\n    }\n\n  createPet = (pet)=> {\n    fetch(\"http://localhost:4000/api/v1/pets\",{\n      method: \"POST\",\n      headers: {\"Content-Type\": \"application/json\", Accepts: \"application/json\"},\n      body: JSON.stringify(pet)\n    })\n    .then(res => res.json())\n    .then(data => {\n      console.log(data)\n    })\n\n  }\n\n  createAdopter = (adopter)=> {\n    fetch(\"http://localhost:4000/api/v1/adopters\",{\n      method: \"POST\",\n      headers: {\"Content-Type\": \"application/json\", Accepts: \"application/json\"},\n      body: JSON.stringify({name: adopter.name,\n      age: adopter.age,\n      location: adopter.location,\n      residence_type: adopter.residence_type,\n      allergy: adopter.allergy,\n      other_pets: adopter.other_pets,\n      img_url: adopter.img_url})\n    })\n    .then(res => res.json())\n    .then(data => {\n      console.log(data)\n    })\n\n  }\n\n  fetchAndSetAdopters = () => {\n    fetch(\"http://localhost:4000/api/v1/adopters/1\")\n    .then(res => res.json())\n    .then(user => {\n\n      this.setState({\n        currentUser:user\n      })\n    })\n\n  }\n\n  componentDidMount(){\n        const token = localStorage.getItem(\"token\")\n\n        if (token){\n            // load up their shit\n            fetch(\"http://localhost:3001/api/v1/auto_login\", {\n                headers: {\n                    \"Authorization\": token\n                }\n            })\n            .then(res => res.json())\n            .then((response) => {\n                if (response.errors) {\n                    alert(response.errors)\n                } else {\n                    this.setState({\n                        currentUser: response\n                    })\n                }\n            })\n        }\n        this.fetchAndSetAdopters()\n    }\n\n  setCurrentUser = (response) => {\n        this.setState({\n            currentUser: response.user\n        }, () => {\n            localStorage.setItem(\"token\", response.token)\n            this.props.history.push(`/profile`)\n        })\n    }\n\n  render(){\n    return (\n      <div className=\"App\">\n      <NavBar/>\n        <header className=\"App-header\">\n        <Switch>\n        <Route exact path ='/' render = {()=>\n          <PetPage currentUser={this.currentUser}/>}/>\n            <Route exact path = '/new-pet' render={() => <CreatePetForm createPet = {this.createPet}/>}/>\n            <Route exact path = '/about' render={() => <About /> }/>\n            <Route exact path = '/new-adopter' render={() => <CreateAdopterForm createAdopter = {this.createAdopter}/>}/>\n            <Route exact path = '/adopter-profile' render={() => <AdopterProfile currentUser={this.state.currentUser} /> }/>\n        </Switch>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}