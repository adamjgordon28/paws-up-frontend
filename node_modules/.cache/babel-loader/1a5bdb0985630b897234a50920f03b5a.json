{"ast":null,"code":"var _jsxFileName = \"/Users/flatironschool/Development/code/Mod-4/project/paws-up-frontend/paws-up-client/src/App.js\";\nimport React from 'react';\nimport PetPage from './containers/PetPage.js';\nimport CreateAdopterForm from './containers/CreateAdopterForm.js';\nimport About from './components/About.js';\nimport CreatePetForm from './containers/CreatePetForm.js';\nimport AdopterProfile from './components/AdopterProfile.js';\nimport NavBar from './components/NavBar.js';\nimport Header from './components/Header.js';\nimport PetProfile from './components/PetProfile.js';\nimport Logout from './components/Logout.js';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport Login from './components/Login.js';\nimport './App.css';\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      currentUser: null\n    };\n\n    this.logOut = () => {\n      localStorage.removeItem(\"token\");\n      this.setCurrentUser(-1);\n      return React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      });\n    };\n\n    this.createPet = pet => {\n      fetch(\"http://localhost:4000/api/v1/pets\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accepts: \"application/json\"\n        },\n        body: JSON.stringify(pet)\n      }).then(res => res.json()).then(data => {\n        return this.props.history.push(\"/\");\n      });\n    };\n\n    this.createAdopter = adopter => {\n      fetch(\"http://localhost:4000/api/v1/adopters\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accepts: \"application/json\"\n        },\n        body: JSON.stringify({\n          name: adopter.name,\n          username: adopter.username,\n          password: adopter.password,\n          age: adopter.age,\n          location: adopter.location,\n          residence_type: adopter.residence_type,\n          allergy: adopter.allergy,\n          other_pets: adopter.other_pets,\n          img_url: adopter.img_url\n        })\n      }).then(res => res.json()).then(response => {\n        if (response.error) {\n          alert(response.error);\n        } else {\n          localStorage.setItem(\"token\", response.token);\n          this.setCurrentUser(response.adopter);\n        }\n      });\n    };\n\n    this.setCurrentUser = user => {\n      console.log(\"Huh?\");\n      this.setState({\n        currentUser: user\n      }, () => {\n        this.props.history.push(\"/adopter-profile\");\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(NavBar, {\n      currentUser: this.state.currentUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"header\", {\n      className: \"App-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: () => React.createElement(PetPage, {\n        currentUser: this.state.currentUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/new-pet\",\n      render: routeProps => React.createElement(CreatePetForm, Object.assign({\n        createPet: this.createPet\n      }, routeProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/about\",\n      render: routeProps => React.createElement(About, Object.assign({}, routeProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/signup\",\n      render: routeProps => React.createElement(CreateAdopterForm, Object.assign({}, routeProps, {\n        createAdopter: this.createAdopter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/login\",\n      render: routeProps => React.createElement(Login, Object.assign({}, routeProps, {\n        setCurrentUser: this.setCurrentUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/adopter-profile\",\n      render: routeProps => React.createElement(AdopterProfile, Object.assign({}, routeProps, {\n        currentUser: this.state.currentUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/logout\",\n      render: routeProps => React.createElement(Logout, Object.assign({\n        logOut: this.logOut\n      }, routeProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/flatironschool/Development/code/Mod-4/project/paws-up-frontend/paws-up-client/src/App.js"],"names":["React","PetPage","CreateAdopterForm","About","CreatePetForm","AdopterProfile","NavBar","Header","PetProfile","Logout","Route","Switch","Redirect","Login","App","Component","state","currentUser","logOut","localStorage","removeItem","setCurrentUser","createPet","pet","fetch","method","headers","Accepts","body","JSON","stringify","then","res","json","data","props","history","push","createAdopter","adopter","name","username","password","age","location","residence_type","allergy","other_pets","img_url","response","error","alert","setItem","token","user","console","log","setState","render","routeProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PetPage from './containers/PetPage.js'\nimport CreateAdopterForm from './containers/CreateAdopterForm.js'\nimport About from './components/About.js'\nimport CreatePetForm from './containers/CreatePetForm.js'\nimport AdopterProfile from './components/AdopterProfile.js'\nimport NavBar from './components/NavBar.js'\nimport Header from './components/Header.js'\nimport PetProfile from './components/PetProfile.js'\nimport Logout from './components/Logout.js'\n\n\nimport {Route, Switch, Redirect} from 'react-router-dom';\nimport Login from './components/Login.js';\n\nimport './App.css';\n\nclass App extends React.Component {\n\n\n    state = {\n      currentUser: null\n    }\n\n    logOut = () => {\n    localStorage.removeItem(\"token\")\n    this.setCurrentUser(-1)\n    return <Redirect to=\"/login\"/>\n  }\n\n  //   componentDidMount() {\n  //   const token = localStorage.getItem(\"token\")\n  //\n  //   if (token) {\n  //     fetch(\"http://localhost:4000/api/v1/auto_login\", {\n  //       headers: {\n  //         \"Authorization\": token\n  //       }\n  //\n  //     })\n  //     .then(res => res.json())\n  //     .then((user) => {\n  //       if (user.errors) {\n  //         this.setCurrentUser(-1)\n  //       } else {\n  //         this.setCurrentUser(user)\n  //       }\n  //     })\n  //   }\n  // }\n\n  createPet = (pet)=> {\n    fetch(\"http://localhost:4000/api/v1/pets\",{\n      method: \"POST\",\n      headers: {\"Content-Type\": \"application/json\", Accepts: \"application/json\"},\n      body: JSON.stringify(pet)\n    })\n    .then(res=>res.json())\n    .then(data => {\n     return this.props.history.push(\"/\")\n    })\n\n  }\n\n  createAdopter = (adopter)=> {\n    fetch(\"http://localhost:4000/api/v1/adopters\",{\n      method: \"POST\",\n      headers: {\"Content-Type\": \"application/json\", Accepts: \"application/json\"},\n      body: JSON.stringify({name: adopter.name, username: adopter.username, password: adopter.password,\n      age: adopter.age,\n      location: adopter.location,\n      residence_type: adopter.residence_type,\n      allergy: adopter.allergy,\n      other_pets: adopter.other_pets,\n      img_url: adopter.img_url})\n    })\n    .then(res=>res.json())\n    .then(response => {\n      if (response.error){\n            alert(response.error)\n          }\n      else {\n      localStorage.setItem(\"token\", response.token)\n      this.setCurrentUser(response.adopter)\n      }\n    })\n\n  }\n\n  setCurrentUser = (user) => {\n    console.log(\"Huh?\")\n      this.setState({\n        currentUser:user\n      }, ()=> {\n        this.props.history.push(\"/adopter-profile\")\n      })\n  }\n\n\n  render(){\n    return (\n      <div className=\"App\">\n      <NavBar currentUser={this.state.currentUser}/>\n        <header className=\"App-header\">\n        <Header/>\n        <Switch>\n        <Route exact path ='/' render = {()=>\n          <PetPage currentUser={this.state.currentUser}/>}/>\n            <Route exact path = '/new-pet' render={(routeProps) => <CreatePetForm createPet = {this.createPet} {...routeProps}/>}/>\n            <Route exact path = '/about' render={(routeProps) => <About {...routeProps}/> }/>\n            <Route exact path = '/signup' render={(routeProps) => <CreateAdopterForm {...routeProps} createAdopter = {this.createAdopter}/>}/>\n            <Route exact path = '/login' render={(routeProps) => <Login {...routeProps} setCurrentUser={this.setCurrentUser}/>}/>\n            <Route exact path = '/adopter-profile' render={(routeProps) => <AdopterProfile {...routeProps} currentUser={this.state.currentUser} /> }/>\n            <Route exact path ='/logout' render = {(routeProps) => <Logout logOut = {this.logOut} {...routeProps}/>}/>\n\n        </Switch>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}